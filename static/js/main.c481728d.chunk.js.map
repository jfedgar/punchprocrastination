{"version":3,"sources":["assets/header.png","GridBox.js","Grid.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","GridBox","props","useState","checked","setChecked","useEffect","id","className","onClick","e","preventDefault","isChecked","checkedBoxes","db","collection","doc","calendarID","set","activity","lastUpdated","Date","now","then","console","log","catch","error","sendToFirebase","displayCheck","Grid","blankArray","Array","fill","_","map","value","index","checkedBoxesArray","this","key","displayGridBoxes","React","Component","App","state","url","window","location","href","uniqueID","userData","copied","resolveUniqueID","initializeFirebase","getFirebaseData","path","hash","substring","length","generateUnqiueID","newID","uuidv4","history","pushState","document","title","isEmpty","get","setState","data","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","isMac","osName","toLowerCase","includes","target","sendActivityToFirebase","type","name","onChange","updateActivity","bind","newUser","text","onCopy","bookMarkInstructions","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.c481728d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/header.9730eab9.png\";","import React, { useState, useEffect } from 'react';\nimport { FaCheck } from 'react-icons/fa';\n\nfunction GridBox(props) {\n  const [checked, setChecked] = useState(props.checked === true);\n\n  useEffect(() => {\n    setChecked(props.checked);\n  }, [props.checked]);\n\n  function handleClick(e) {\n    e.preventDefault();\n    setChecked(!checked)\n    sendToFirebase(!checked)\n  }\n\n  function sendToFirebase(isChecked) {\n    let checkedBoxes = props.checkedBoxes\n    checkedBoxes[props.id] = isChecked;\n    props.db.collection(\"calendars\").doc(props.calendarID).set({\n      checkedBoxes:  checkedBoxes,\n      activity: props.activity,\n      lastUpdated: Date.now()\n    })\n    .then(function() {\n      console.log(\"Document successfully written!\");\n    })\n    .catch(function(error) {\n      console.error(\"Error writing document: \", error);\n    });\n\n  }\n\n  function displayCheck() {\n    if (checked === true) {\n      return <FaCheck className='check' />;\n    }\n  }\n\n  return (\n    <div id={props.id} className='gridBox' onClick={handleClick}>\n      { displayCheck() }\n    </div>\n  );\n}\n\nexport default GridBox;","import React from 'react';\nimport _ from 'underscore';\nimport GridBox from './GridBox.js'\n\nclass Grid extends React.Component {\n\n  // ensures the checkedBoxes array always has a length of 35\n  checkedBoxesArray() {\n    let blankArray = Array(35).fill(false)\n    return _.map(blankArray, (value, index) => {\n      return this.props.checkedBoxes[index] || false;\n    });\n  }\n\n  displayGridBoxes() {\n    let checkedBoxesArray = this.checkedBoxesArray();\n    let gridBoxes = _.map(checkedBoxesArray, (checked, key) => {\n      return (\n        <GridBox\n          id={key}\n          key={key}\n          checked={checked}\n          checkedBoxes={checkedBoxesArray}\n          calendarID={this.props.calendarID}\n          db={this.props.db}\n          activity={this.props.activity}\n        />\n      );\n    });\n\n    return gridBoxes;\n  }\n\n  render() {\n    return(\n      <div id='grid'>\n        { this.displayGridBoxes() }\n      </div>\n    );\n  }\n\n}\n\nexport default Grid","import React from 'react';\nimport _ from 'underscore';\nimport * as firebase from 'firebase';\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport { MdContentCopy } from 'react-icons/md';\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n  BrowserView,\n  osName,\n} from \"react-device-detect\";\nimport logo from './assets/header.png'\nimport './App.css';\nimport Grid from './Grid.js'\n\nclass App extends React.Component {\n  state = {\n    url: window.location.href,\n    uniqueID: null,\n    userData: {},\n    copied: false,\n    activity: \"\"\n  }\n\n  constructor(props) {\n    //set url\n    // If nothing after punchprocrastination.com/ generate random uuid and append\n    //   set url in browser\n    //   this is a new user\n    //   don't save until they click a calendar entry or set an activity\n    // If there is anything after punchprocrastination.com/ look up in firebase\n    //   no need to set url in browser\n    //   If found on firebase, get data and fill in\n\n    //   If not found ... ?\n    //      Should probably also set as the url value \n\n    super(props)\n    this.resolveUniqueID();\n    this.initializeFirebase();\n  }\n\n  componentDidMount() {\n    this.getFirebaseData();\n  }\n\n  resolveUniqueID() {\n    let path = window.location.hash.substring(1);\n    let pathLength = path.length\n    if (pathLength !== 36) {\n      this.generateUnqiueID();\n    } else {\n      this.state['uniqueID'] = path;\n    }\n  }\n\n  generateUnqiueID() {\n    let newID = uuidv4();\n    //window.location.pathname = newID;\n    window.history.pushState({}, document.title, '#' + newID);\n    this.state['url'] = window.location.href\n    this.state['uniqueID'] = newID\n  }\n\n  getFirebaseData() {\n    // We already have data for user:\n    if (!_.isEmpty(this.state.userData)) return false;\n\n    this.state.db.collection(\"calendars\")\n      .doc(this.state.uniqueID)\n      .get()\n      .then((doc) => {\n        this.setState({\n          userData: doc.data() || {},\n          activity: doc.data().activity\n        });\n      })\n      .catch(function(error) {\n        console.error(\"Error reading document: \", error);\n      });\n  }\n\n  initializeFirebase() {\n    let firebaseConfig = {\n      apiKey: \"AIzaSyDEUWWqLD9MXOlxPHhhcT-TicbaIGBH55I\",\n      authDomain: \"punchprocrastination.firebaseapp.com\",\n      databaseURL: \"https://punchprocrastination.firebaseio.com\",\n      projectId: \"punchprocrastination\",\n      storageBucket: \"punchprocrastination.appspot.com\",\n      messagingSenderId: \"881349191831\",\n      appId: \"1:881349191831:web:6776979685e5b82347e1d2\",\n      measurementId: \"G-Y0D1Y2B65C\"\n    };\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n      firebase.analytics();\n    }\n\n    this.state['firebaseConnection'] = firebase\n    this.state['db'] = firebase.firestore();\n  }\n\n  isMac() {\n    this.isMac = this.isMac || osName.toLowerCase().includes('mac')\n  }\n\n  bookMarkInstructions() {\n    if (this.isMac) {\n      return <span>Click Command (âŒ˜) + D to add site to bookmarks</span>;\n    } else {\n      return <span>Click CTRL (^) + D to add site to bookmarks</span>;\n    }\n  }\n\n  updateActivity(e) {\n    e.preventDefault();\n    this.setState({ activity: e.target.value }, () => {\n      this.sendActivityToFirebase();\n    });\n\n  }\n\n  sendActivityToFirebase() {\n    this.state.db.collection(\"calendars\").doc(this.state.uniqueID).set({\n      checkedBoxes:  this.state.userData.checkedBoxes || [],\n      activity: this.state.activity,\n      lastUpdated: Date.now()\n    })\n    .then(function() {\n      console.log(\"Document successfully written!\");\n    })\n    .catch(function(error) {\n      console.error(\"Error writing document: \", error);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div id=\"header\">\n          <div id=\"activityBox\">\n            My Thing:\n            <input\n              type=\"text\"\n              name=\"activity\"\n              onChange={this.updateActivity.bind(this)}\n              value={this.state.activity}\n            />\n          </div>\n        </div>\n\n        <div id=\"main\">\n          <div id='calendar'>\n            <Grid\n              newUser={this.state.newUser}\n              checkedBoxes={this.state.userData['checkedBoxes'] || []}\n              calendarID={this.state.uniqueID}\n              db={this.state.db}\n              activity={this.state.activity}\n            />\n          </div>\n\n          <CopyToClipboard text={this.state.url}\n            onCopy={() => this.setState({copied: true})}>\n            <span id='copyButton'><MdContentCopy />Copy URL To Clipboard</span>\n          </CopyToClipboard>\n          <BrowserView>\n            { this.bookMarkInstructions() }\n          </BrowserView>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}