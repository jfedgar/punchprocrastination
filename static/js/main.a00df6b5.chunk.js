(this.webpackJsonppunchprocrastination=this.webpackJsonppunchprocrastination||[]).push([[0],{25:function(e,t,a){e.exports=a(47)},30:function(e,t,a){},45:function(e,t,a){e.exports=a.p+"static/media/header.9730eab9.png"},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a.n(n),c=a(20),o=a.n(c),r=(a(30),a(13)),s=a(14),u=a(15),l=a(16),d=a(10),h=a(9),p=a(21),v=a.n(p),m=a(23),y=a(49),f=a(17),k=(a(45),a(46),a(24)),b=a(22);var D=function(e){var t=Object(n.useState)(!0===e.checked),a=Object(k.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.checked)}),[e.checked]),i.a.createElement("div",{id:e.id,className:"gridBox",onClick:function(t){t.preventDefault(),o(!c),function(t){var a=e.checkedBoxes;a[e.id]=t,e.db.collection("calendars").doc(e.calendarID).set({checkedBoxes:a,activity:e.activity,lastUpdated:Date.now()}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))}(!c)}},function(){if(!0===c)return i.a.createElement(b.a,{className:"check"})}())},E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"checkedBoxesArray",value:function(){var e=this,t=Array(35).fill(!1);return d.a.map(t,(function(t,a){return e.props.checkedBoxes[a]||!1}))}},{key:"displayGridBoxes",value:function(){var e=this,t=this.checkedBoxesArray();return d.a.map(t,(function(a,n){return i.a.createElement(D,{id:n,key:n,checked:a,checkedBoxes:t,calendarID:e.props.calendarID,db:e.props.db,activity:e.props.activity})}))}},{key:"render",value:function(){return i.a.createElement("div",{id:"grid"},this.displayGridBoxes())}}]),a}(i.a.Component),g=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={url:window.location.href,uniqueID:null,userData:{},copied:!1,activity:""},n.resolveUniqueID(),n.initializeFirebase(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getFirebaseData()}},{key:"resolveUniqueID",value:function(){var e=window.location.hash.substring(1);36!==e.length?this.generateUnqiueID():this.state.uniqueID=e}},{key:"generateUnqiueID",value:function(){var e=Object(y.a)();window.history.pushState({},document.title,"#"+e),this.state.url=window.location.href,this.state.uniqueID=e}},{key:"getFirebaseData",value:function(){var e=this;if(!d.a.isEmpty(this.state.userData))return!1;this.state.db.collection("calendars").doc(this.state.uniqueID).get().then((function(t){e.setState({userData:t.data()||{},activity:t.data().activity})})).catch((function(e){console.error("Error reading document: ",e)}))}},{key:"initializeFirebase",value:function(){h.apps.length||(h.initializeApp({apiKey:"AIzaSyDEUWWqLD9MXOlxPHhhcT-TicbaIGBH55I",authDomain:"punchprocrastination.firebaseapp.com",databaseURL:"https://punchprocrastination.firebaseio.com",projectId:"punchprocrastination",storageBucket:"punchprocrastination.appspot.com",messagingSenderId:"881349191831",appId:"1:881349191831:web:6776979685e5b82347e1d2",measurementId:"G-Y0D1Y2B65C"}),h.analytics()),this.state.firebaseConnection=h,this.state.db=h.firestore()}},{key:"isMac",value:function(){this.isMac=this.isMac||f.osName.toLowerCase().includes("mac")}},{key:"bookMarkInstructions",value:function(){return this.isMac?i.a.createElement("span",{id:"bookmarkInstructions"},"Or hit Command (\u2318) + D to add site to bookmarks"):i.a.createElement("span",{id:"bookmarkInstructions"},"Or hit CTRL (^) + D to add site to bookmarks")}},{key:"updateActivity",value:function(e){var t=this;e.preventDefault(),this.setState({activity:e.target.value},(function(){t.sendActivityToFirebase()}))}},{key:"sendActivityToFirebase",value:function(){this.state.db.collection("calendars").doc(this.state.uniqueID).set({checkedBoxes:this.state.userData.checkedBoxes||[],activity:this.state.activity,lastUpdated:Date.now()}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{id:"header"},i.a.createElement("div",{id:"activityBox"},"My Thing:",i.a.createElement("input",{type:"text",name:"activity",onChange:this.updateActivity.bind(this),value:this.state.activity}))),i.a.createElement("div",{id:"main"},i.a.createElement("div",{id:"calendar"},i.a.createElement(E,{newUser:this.state.newUser,checkedBoxes:this.state.userData.checkedBoxes||[],calendarID:this.state.uniqueID,db:this.state.db,activity:this.state.activity})),i.a.createElement("footer",null,i.a.createElement("div",{id:"bottomExplanation"},"This is your unique Punch Calendar but you have to bookmark this page to come back."),i.a.createElement("div",{id:"linkInstructions"},i.a.createElement(v.a,{text:this.state.url,onCopy:function(){return e.setState({copied:!0})}},i.a.createElement("span",{id:"copyButton"},i.a.createElement(m.a,null),"Copy URL To Clipboard")),i.a.createElement(f.BrowserView,null,this.bookMarkInstructions())),i.a.createElement("div",{id:"copyright"},"Copyright \xa9 Daniel M. White and Joseph Edgar 2020.",i.a.createElement("br",null),"All rights reserved."))))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.a00df6b5.chunk.js.map